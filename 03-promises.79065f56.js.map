{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAgDA,SAASC,EAAcC,EAAUC,GAc7B,OAZgB,IAAIC,SAAQ,SAACC,EAASC,GAClCC,YAAW,WACeC,KAAKC,SAAW,GAGlCJ,EAAQ,CAAEH,WAAUC,UAEpBG,EAAO,CAAEJ,WAAUC,YAExBA,MAxDSO,SAASC,cAAc,SAG/BC,iBAAiB,UAE7B,SAA2BC,GACvBA,EAAMC,iBAEN,IAAMC,EAAc,GAEfC,GAAkB,EAAlBC,GAAkB,EAAlBC,OAAkBC,E,IAAvB,QAAKC,EAAAC,EAAsBR,EAAMS,cAAcC,SAAQC,OAAAC,cAAlDT,GAAAI,EAAAC,EAAkBK,QAAAC,MAAlBX,GAAkB,GAAlB,IAAMY,EAANR,EAAkBS,MAGfD,EAAaE,aAAa,SAAkC,KAAvBF,EAAaC,QAClDd,EAAYa,EAAaG,MAAQH,EAAaC,Q,SAJjDZ,GAAkB,EAAlBC,EAAkBc,E,YAAlBhB,GAAkB,MAAlBK,EAAkBY,QAAlBZ,EAAkBY,S,WAAlBhB,E,MAAAC,IAYT,WASI,I,IATiBgB,EAAAC,UAAAC,OAAA,YAAAD,UAAA,GAA4BA,UAAA,GAAF,GAAxBE,EAAFH,EAAE/B,MAAOmC,EAATJ,EAASI,KAAMC,EAAfL,EAAeK,OAG5BC,EAAaC,OAAOJ,GAClBK,EAAWD,OAAOH,GAClBK,EAAcF,OAAOF,GAIlBK,EAAI,EAAGA,EAAID,EAAaC,GAAK,EAClC3C,EAAc2C,EAAGJ,GACZK,MAAK,SAAAC,G,IAAG5C,EAAQ4C,EAAR5C,SAAUC,EAAK2C,EAAL3C,MACf4C,QAAQC,IAAI,uBAA4CC,OAAnB/C,EAAW,EAAE,QAAY+C,OAAN9C,EAAM,OAC9DJ,EAAAmD,OAAOC,QAAQ,uBAA4CF,OAAnB/C,EAAW,EAAE,QAAY+C,OAAN9C,EAAM,UAEpEiD,OAAM,SAAAN,G,IAAG5C,EAAQ4C,EAAR5C,SAAUC,EAAK2C,EAAL3C,MAChB4C,QAAQC,IAAI,sBAA2CC,OAAnB/C,EAAW,EAAE,QAAY+C,OAAN9C,EAAM,OAC7DJ,EAAAmD,OAAOG,QAAQ,sBAAyCJ,OAAnB/C,EAAW,EAAE,QAAY+C,OAAN9C,EAAM,UAEtEqC,GAAcE,EAtBlBY,CAAYvC,M","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n// Notify.info('Background-color');\n\nconst formElement = document.querySelector('.form');\n// console.log(formElement);\n\nformElement.addEventListener('submit', setOptionsPromise);\n\nfunction setOptionsPromise(event) {\n    event.preventDefault();\n    // console.log(event.currentTarget.elements);\n    const optionsData = {};\n\n    for (const inputElement of event.currentTarget.elements) {\n        // console.log(inputElement);\n\n        if (inputElement.hasAttribute('name') && inputElement.value !== '') {\n            optionsData[inputElement.name] = inputElement.value;\n        }\n    }\n\n    // console.log(optionsData);\n    initPromise(optionsData);\n}\n\nfunction initPromise({ delay, step, amount } = {}) {\n    // console.log(delay, step, amount);\n\n    let firstDelay = Number(delay);\n    const stepCall = Number(step);\n    const allPosition = Number(amount);\n\n    // console.log(firstDelay, stepCall, allPosition);\n\n    for (let i = 0; i < allPosition; i += 1) {\n        createPromise(i, firstDelay)\n            .then(({ position, delay }) => {\n                console.log(`✅ Fulfilled promise ${position + 1} in ${delay}ms`);\n                Notify.success(`✅ Fulfilled promise ${position + 1} in ${delay}ms`);\n            })\n            .catch(({ position, delay }) => {\n                console.log(`❌ Rejected promise ${position + 1} in ${delay}ms`);\n                Notify.failure(`❌ Rejected promise ${position + 1} in ${delay}ms`);\n            });\n        firstDelay += stepCall;\n    }\n}\n\nfunction createPromise(position, delay) {\n\n    const promise = new Promise((resolve, reject) => {\n        setTimeout(() => {\n            const shouldResolve = Math.random() > 0.3;\n\n            if (shouldResolve) {\n                resolve({ position, delay });\n            } else {\n                reject({ position, delay });\n            }\n        }, delay);\n    });\n\n    return promise;\n}"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$createPromise","position","delay","Promise","resolve","reject","setTimeout","Math","random","document","querySelector","addEventListener","event","preventDefault","optionsData","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","currentTarget","elements","Symbol","iterator","next","done","inputElement","value","hasAttribute","name","err","return","ref","arguments","length","delay1","step","amount","firstDelay","Number","stepCall","allPosition","i","then","param","console","log","concat","Notify","success","catch","failure","$ce04d3a99e08e73b$var$initPromise"],"version":3,"file":"03-promises.79065f56.js.map"}